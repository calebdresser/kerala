# Caleb Dresser MD
# BIDMC / HSPH / FXB

# Import data file
krapid <- read.csv(file = file.choose(), header = TRUE)

# Look at the data
krapid

# Plot deaths in relation to population density
plot (Deaths_2019 ~ Pop_dens, data = krapid)

# Plot deaths in relation to total population
plot (Deaths_2019 ~ Pop_2011, data = krapid)

# make a column for mortality rate
krapid$death_rate <- with(krapid, krapid$Deaths_2019 / krapid$Pop_2011)

# graph relationship between camp numbers and deaths
fancyplot <- ggplot(krapid, aes (x = Camps_2019, y = Deaths_2019)) + geom_point(aes(size = krapid$death_rate))
fancyplot

# look at whether worst hit districts from composite image had mmore deaths or higher death rate
worstrainsgross <- ggplot(krapid, aes (x = Pop_2011, y = Deaths_2019)) + geom_point(aes(color = Worst_rains_2019))
worstrainsrate <- ggplot(krapid, aes (x = Pop_2011, y = Death_rate_2019)) + geom_point(aes(color = Worst_rains_2019))

##
##

## RAINFALL TREND DATA

#import the rainfall data (coded from 0 to 5 based on indian meteorological service rainmaps)
rain2019 <- read.csv(file = file.choose(),  header = TRUE)

# add a column that is the minimum cutoff value for the categories on the IMS maps
rain2019$RainCM <- with(rain2019, IF


#plot rainfall by day, color cod districts
raintrends2019 <- ggplot(data=rain2019, aes (x = DayAug, y = Rainfall)) + geom_smooth(aes(color=Location, se = FALSE))
raintrends2019

